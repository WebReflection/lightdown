/*! (c) Andrea Giammarchi - ISC License */
function lightdown(e){var r=[],c=function(e,r,s){switch(s=s.replace(/([*~_"]+)(?!\s)([\S\s]*?\S)\1/g,c),r.charAt(0)){case"*":r=1===r.length?"em>":"strong>";break;case"~":r="strike>";break;case"_":r="u>";break;case'"':return"“"+s+"”"}return"<"+r+s+"</"+r};return e.replace(/\x01/g,"").replace(/(`{2,})([\S\s]+?)\1/g,function(e,c,s){var a=(/^([a-z]+)[\r\n]/i.exec(s)||["",""])[1];return a&&(a=a.toLowerCase(),s=s.slice(a.length)),s=s.replace(/^\s+|\s+$/g,""),r.push('<pre><code class="'+a+'">'+s+"</code></pre>"),""}).replace(/(`)(?!\s)([\S\s]*?\S)\1/g,function(e,c,s){return r.push("<code>"+s+"</code>"),""}).replace(/(^|\s)([a-z]{2,}:\/\/[^\s/$.?#-]+\.\S+)/g,function(e,c,s){return r.push(c+'<a href="'+s.replace(/"/g,"&quot;")+'">'+s+"</a>"),""}).replace(/([*~_"]+)(?!\s)([\S\s]*?\S)\1/g,c).replace(/\x01/g,function(){return r.shift()})}